<header class="header" [class.scrolled]="isScrolled">
    <div class="header__container">
        @if (!isAuthPage()) {
            <div class="header__logo">
                <a href="/">
                    <img [src]="isScrolled ? logoMiniPath : logoFullPath" />
                </a>
            </div>
            <ul class="header__menu-list">
                @for (item of menu$ | async; track $index) {
                    <li>
                        <a
                            [href]="item.link"
                            rel="noopener noreferrer"
                            class="menu__nav"
                        >
                            {{ item.name }}
                        </a>
                    </li>
                }
            </ul>
            <div class="header__lang-ava">
                <div class="language-selector" [class.open]="isOpen">
                    <button class="selector-button" (click)="toggleDropdown()">
                        <img
                            [src]="getCurrentLanguageFlag()"
                            [alt]="getCurrentLanguageName()"
                            class="flag-icon"
                        />
                        <img
                            [src]="arrowDownPath"
                            class="chevron"
                            [class.up]="isOpen"
                        />
                    </button>
                    @if (isOpen) {
                        <div class="dropdown-menu">
                            @for (
                                lang of languageSwitcher.supportedLanguages();
                                track lang.code
                            ) {
                                <button
                                    class="language-option"
                                    [class.active]="
                                        lang.code ===
                                        languageSwitcher.currentLang()
                                    "
                                    (click)="selectLanguage(lang.code)"
                                >
                                    <span>{{ lang.name }}</span>
                                    <img
                                        [src]="lang.imgMiniPath"
                                        [alt]="lang.name"
                                        class="flag-icon"
                                    />
                                </button>
                            }
                        </div>
                    }
                </div>
                <div class="diviver"></div>
                <div class="header__avatar">
                    <a href="auth/register"
                        ><img [src]="avatarNotFoundPath"
                    /></a>
                </div>
            </div>
        } @else {
            <div class="header__logo">
                <a href="/">
                    <img [src]="isScrolled ? logoMiniPath : logoFullPath" />
                </a>
            </div>
        }
    </div>
</header>
